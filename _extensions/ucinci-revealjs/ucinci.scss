/**
 * UC theme for reveal.js (Quarto)
 **/

// include UC-specific fonts. ref: https://www.uc.edu/about/marketing-communications/brand-guide/visual-identity/typography.html
@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Gentium+Basic:wght@400;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Jost:wght@400;600;700&display=swap');

// UC COLORS. ref: https://www.uc.edu/about/marketing-communications/brand-guide/visual-identity/color.html
// Note that all colors follow the naming convention from UC marketing & comms. I have no idea why they call regular black "uc black" but regular white doesn't get called "uc white." 

// primary color palette
$uc-red: #E00122;
$uc-black: #000000;
$white: #ffffff;

// secondary color palette
$uc-dark-red: #b8011c;
$grey: #f3f3f3;

// expanded color palette
$calhoun-maroon: #890519;
$steger-silver: #a7a5aa;
$main-street-mist: #e0dfe3;
$bearcats-black: #333333;
$gettler-gold: #d1b179;
$tangeman-tan: #eadbc1;

// Define root CSS variables (for runtime use in HTML)
:root {
  --uc-red: #{$uc-red};
  --uc-black: #{$uc-black};
  --white: #{$white};
  --uc-dark-red: #{$uc-dark-red};
  --grey: #{$grey};
  --calhoun-maroon: #{$calhoun-maroon};
  --steger-silver: #{$steger-silver};
  --main-street-mist: #{$main-street-mist};
  --bearcats-black: #{$bearcats-black};
  --gettler-gold: #{$gettler-gold};
  --tangeman-tan: #{$tangeman-tan};
}

/*-- scss:defaults --*/

// fonts
$font-family-sans-serif: "Open Sans", "Arial", sans-serif !default;
$presentation-heading-font: "Jost", "Open Sans", "Arial", sans-serif !default;

// colors
$body-bg: $white !default;
$body-color: $uc-black !default;
$link-color: $uc-red !default;
$link-color-hover: $uc-dark-red !default;
$presentation-heading-color: $uc-red !default;

$code-bg: $body-color !default;
$code-color: $body-bg !default;

$code-block-bg: $grey !default;
$code-block-border-color: $body-color !default;

$btn-code-copy-color: $body-color !default;

$selection-bg: $tangeman-tan !default;
$selection-color: $calhoun-maroon !default;

/*-- styles --*/
$presentation-heading-text-transform: none !default; // change this to uppercase if you want to match the CEAS template. The official UC heading font is Jost, which shows up better in my opinion if sentence case. Further, in some subfields where acronyms may appear in headings, no transformation is preferred.
$presentation-h1-font-size: 2em !default;

/*-- scss:mixins --*/

@mixin bodyBackground($gradient: linear-gradient(to bottom, #FFFFFF, #FFFFFF), $text-color: $uc-black, $presentation-heading-color: $bearcats-black) {
  background: $gradient;
  color: $text-color;
  // Target slide headings
  h1 {
    color: $presentation-heading-color !important;
  }
  z-index: 0 !important;
}

@mixin highlight($bg-color, $text-color: $white) {
  ::selection {
    background-color: $bg-color;
    color: $text-color;
  }
  ::-moz-selection {
    background-color: $bg-color;
    color: $text-color;
  }
}

/*-- scss:rules --*/

.picture {
  border-style: solid;
  border-width: 3pt;
  border-color: $bearcats-black;
  border-radius: 50%;
  padding: 5pt;
  height: 50%;
  width: auto;
}

#title-slide {
  text-align: right;

  h1 {
    font-size: 3em;
  }

  .quarto-title-author {
    font-size: 1em;
  }

  .subtitle,
  .institute,
  .quarto-title-author-affiliation,
  .quarto-title-author-job,
  .quarto-title-author-email {
    font-style: italic;
    color: $white;
    font-size: 0.7em;
    a {
      color: $white;      // e.g., #ffffff for white
      text-decoration: underline;    // optional
    }
    a:hover {
      color: $tangeman-tan;
      text-decoration: none;
    }
  }
  // Nuke any horizontal rule / separators Quarto (or your older CSS) might add
  hr,
  .author::before,
  .quarto-title-authors::before,
  #quarto-title-authors::before,
  .quarto-title-author::before {
    display: none !important;
    content: none !important;
    border: 0 !important;
    background: none !important;
  }
}

  #title-slide .quarto-title-authors {
  display: flex;                /* lay out authors in a row */
  justify-content: right;      /* center them horizontally */
  gap: 2rem;                    /* spacing between authors */
  flex-wrap: wrap;              /* allow wrapping if too many authors */
  margin-top: 1.5rem;
  }

  #title-slide .quarto-title-author {
  text-align: right;           /* keep each authorâ€™s text centered */
  min-width: 150px;             /* optional: prevent very narrow blocks */
  }

/* Gradient backgrounds with nav color variable */
.official-uc-red-gradient {
  @include bodyBackground(linear-gradient(to bottom, $uc-red, $uc-dark-red), $white, $white);
}

.beyond-black-gradient {
  @include bodyBackground(linear-gradient(to bottom, #404040, $uc-black), $white, $main-street-mist);
}

.white-gradient {
  @include bodyBackground(linear-gradient(to bottom, #ffffff, #cccccc), $uc-black, $uc-black);
}

.uc-red-flat {
  @include bodyBackground(linear-gradient(to bottom, $uc-red, $uc-red), $white, $white);
}

.uc-black-flat {
  @include bodyBackground(linear-gradient(to bottom, $uc-black, $uc-black), $white, $white);
}

.black-and-white {
  @include bodyBackground(linear-gradient(to bottom, $white, $white), $uc-black, $bearcats-black);
}

/* Attribute class to remove background */
.reveal .slides > section.no-background,
.reveal .slides > section > section.no-background {
  background: transparent !important;
  background-color: transparent !important;
  color: inherit !important;  /* keep text color consistent */
}

/* Also clear any inner wrappers */
.reveal .slides section.no-background > div {
  background: transparent !important;
}

/* Always nuke the background for title slides */
.reveal .slides section.title-slide.slide.level1 {
  background: transparent !important;
  background-image: none !important;
  background-color: transparent !important;
}

/* Always nuke the background for level2 slides */
.reveal .slides section.slide.level2 {
  background: transparent !important;
  background-image: none !important;
  background-color: transparent !important;
}

.reveal .slides section.official-uc-red-gradient {
  @include highlight($bearcats-black, $gettler-gold);
  color: white !important;
  link-color: $main-street-mist !important;

  // propagate to all children except h1
  h2, h3, h4, h5, h6,
  p, li, span, div {
    color: inherit !important;
    background: transparent !important; // remove any inner gradient
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: unset !important;
  }
  a {
    color: $white;      // e.g., #ffffff for white
    text-decoration: underline;    // optional
  }
  a:hover {
    color: $tangeman-tan;
    text-decoration: none;
  }
}

.reveal .slides section.uc-red-flat {
  @include highlight($bearcats-black, $gettler-gold);
  color: white !important;

  // propagate to all children except h1
  h2, h3, h4, h5, h6,
  p, li, span, div {
    color: inherit !important;
    background: transparent !important; // remove any inner gradient
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: unset !important;
  }
  a {
    color: $white;      // e.g., #ffffff for white
    text-decoration: underline;    // optional
  }
  a:hover {
    color: $tangeman-tan;
    text-decoration: none;
  }
}

.reveal .slides section.white-gradient {
  @include highlight($uc-red, $main-street-mist);
  color: $uc-black !important;

  // propagate to all children except h1
  h2, h3, h4, h5, h6,
  p, li, span, div {
    color: inherit !important;
    background: transparent !important; // remove any inner gradient
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: unset !important;
  }
    a {
      color: $uc-red;      // e.g., #ffffff for white
      text-decoration: underline;    // optional
    }
    a:hover {
      color: $uc-dark-red;
      text-decoration: none;
    }
}

.reveal .slides section.black-and-white {
  @include highlight($uc-red, $main-street-mist);
  color: $uc-black !important;

  // propagate to all children except h1
  h2, h3, h4, h5, h6,
  p, li, span, div {
    color: inherit !important;
    background: transparent !important; // remove any inner gradient
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: unset !important;
  }
    a {
      color: $uc-black;      // e.g., #ffffff for white
      text-decoration: underline;    // optional
    }
    a:hover {
      color: $uc-black;
      text-decoration: none;
    }
}

.reveal .slides section.beyond-black-gradient {
  @include highlight($calhoun-maroon, $tangeman-tan);
  color: $white !important;

  // propagate to all children except h1
  h2, h3, h4, h5, h6,
  p, li, span, div {
    color: inherit !important;
    background: transparent !important; // remove any inner gradient
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: unset !important;
  }
  a {
    color: $white;      // e.g., #ffffff for white
    text-decoration: underline;    // optional
  }
  a:hover {
    color: $tangeman-tan;
    text-decoration: none;
  }
}

.reveal .slides section.uc-black-flat {
  @include highlight($calhoun-maroon, $tangeman-tan);
  color: $white !important;

  // propagate to all children except h1
  h2, h3, h4, h5, h6,
  p, li, span, div {
    color: inherit !important;
    background: transparent !important; // remove any inner gradient
    -webkit-background-clip: unset !important;
    -webkit-text-fill-color: unset !important;
  }
  a {
    color: $white;      // e.g., #ffffff for white
    text-decoration: underline;    // optional
  }
  a:hover {
    color: $tangeman-tan;
    text-decoration: none;
  }
}

.reveal .slide-number>a[href*='title-slide'] {
  display: none;
}

.footer {
  bottom: 10px !important;
  color: $steger-silver
}

// Define a variable for the menu icon color
$menu-icon-color: $uc-red; // your desired color

// Convert hex to RGB
$menu-icon-rgb: "#{red($menu-icon-color)},#{green($menu-icon-color)},#{blue($menu-icon-color)}";

.slide-menu-button .fa-bars {
  display: none;
}

.slide-number,
.reveal.has-logo .slide-number {
  bottom: 10px !important;
  right: 10px !important;
  top: unset !important;
  color: $uc-red

  a {
    text-decoration: none !important;
  }
}

.reveal {
  position: relative; // ensure child absolute positioning works
}

.slide-logo {
  position: fixed;
  top: 10px;
  right: 10px;
  z-index: 20;
}

.title-slide-logo {
  position: fixed;
  bottom: -50px;
  left: 0px;
  z-index: 20;
  width: 300px;
  height: auto;
  min-width: 300px;   // ensures logo is at least 50px wide
}

/* Hide general logo on the title slide */
.reveal .slides section.title-slide .slide-logo {
  display: none; 
}